# VCoder

> åŸºäº CLI Agent çš„ VSCode æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹æ’ä»¶ï¼ˆæ”¯æŒ Claude Codeï¼‰

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![VSCode](https://img.shields.io/badge/VSCode-1.80.0-blue.svg)](https://code.visualstudio.com/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3.0-blue.svg)](https://www.typescriptlang.org/)

## ğŸ“– ç®€ä»‹

VCoder æ˜¯ä¸€æ¬¾ VSCode æ’ä»¶ï¼Œé€šè¿‡ Client-Server æ¶æ„å°† Claude Code CLI çš„èƒ½åŠ›æ— ç¼é›†æˆåˆ° VSCode ä¸­ã€‚å®ƒä¸ºå¼€å‘è€…æä¾›ï¼š

- ğŸ’¬ **å®æ—¶å¯¹è¯å¼ç¼–ç¨‹è¾…åŠ©** - åœ¨ä¾§è¾¹æ ä¸ AI è¿›è¡Œè‡ªç„¶è¯­è¨€äº¤äº’
- ğŸ§  **å¯è§†åŒ–æ€è€ƒè¿‡ç¨‹** - æŸ¥çœ‹ AI çš„æ¨ç†é€»è¾‘ï¼Œç†è§£é—®é¢˜åˆ†ææ€è·¯
- ğŸ› ï¸ **å·¥å…·è°ƒç”¨è¿½è¸ª** - è¯¦ç»†å±•ç¤º AI æ‰§è¡Œçš„æ¯ä¸ªæ“ä½œ
- ğŸ“‹ **ä»»åŠ¡è®¡åˆ’åˆ—è¡¨** - Plan Mode ä¸‹çš„ä»»åŠ¡åˆ†è§£å’Œè¿›åº¦è·Ÿè¸ª
- ğŸ”„ **å¤šä¼šè¯ç®¡ç†** - æ”¯æŒåŒæ—¶è¿›è¡Œå¤šä¸ªç‹¬ç«‹å¯¹è¯
- ğŸ¯ **æ™ºèƒ½ä»£ç ä¿®æ”¹** - Diff é¢„è§ˆï¼Œæ¥å—æˆ–æ‹’ç» AI å»ºè®®çš„ä»£ç å˜æ›´

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### MVP åŠŸèƒ½ (v0.1.0)

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| å¯¹è¯å¼äº¤äº’ç•Œé¢ | âœ… | èŠå¤©æ°”æ³¡å¼ UIï¼Œæ”¯æŒ Markdown æ¸²æŸ“ |
| Claude Code åå°æœåŠ¡ | âœ… | é€šè¿‡ ACP åè®®é€šä¿¡ |
| ä»£ç  Diff é¢„è§ˆ | âœ… | å¯è§†åŒ–å±•ç¤ºä»£ç ä¿®æ”¹ |
| Thought å±•ç¤º | âœ… | å¯æŠ˜å çš„ AI æ€è€ƒè¿‡ç¨‹ |
| å·¥å…·è°ƒç”¨åˆ—è¡¨ | âœ… | è¯¦ç»†å±•ç¤º Agent æ“ä½œ |
| Plan Mode åˆ‡æ¢ | âœ… | è§„åˆ’æ¨¡å¼/æ‰§è¡Œæ¨¡å¼ |
| æ¨¡å‹é€‰æ‹© | âœ… | æ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ |
| MCP é›†æˆ | âœ… | æ”¯æŒ MCP å·¥å…·æ‰©å±• |
| API Key é…ç½® | âœ… | é¦–æ¬¡ä½¿ç”¨é…ç½®å‘å¯¼ |
| å¤šä¼šè¯ç®¡ç† | âœ… | æ”¯æŒå¤šä¸ªç‹¬ç«‹å¯¹è¯ |

### è®¡åˆ’åŠŸèƒ½

- ğŸ“ å†å²è®°å½•ä¿å­˜
- ğŸ¨ è‡ªå®šä¹‰é…ç½®
- ğŸ”Œ Codex CLI æ”¯æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **VSCode**: >= 1.80.0
- **Node.js**: >= 18.0.0
- **Claude Code CLI**: æœ€æ–°ç‰ˆ
  ```bash
  npm install -g @anthropic-ai/claude-code
  ```
- **åŒ…ç®¡ç†å™¨**: pnpm (æ¨è)
  ```bash
  npm install -g pnpm
  ```

### å®‰è£…

#### ä»æºç è¿è¡Œ

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/weank1984/vcoder.git
   cd vcoder
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pnpm install
   ```

3. **æ„å»ºé¡¹ç›®**
   ```bash
   pnpm build
   ```

4. **åœ¨ VSCode ä¸­è°ƒè¯•**
   - åœ¨ VSCode ä¸­æ‰“å¼€é¡¹ç›®
   - æŒ‰ `F5` å¯åŠ¨æ‰©å±•å¼€å‘ä¸»æœº
   - åœ¨æ–°çª—å£ä¸­æµ‹è¯•æ’ä»¶åŠŸèƒ½

#### æ‰“åŒ…å‘å¸ƒ

```bash
# å®‰è£… vsce (VSCode Extension Manager)
npm install -g @vscode/vsce

# æ‰“åŒ…ä¸º .vsix æ–‡ä»¶
vsce package

# å®‰è£…åˆ° VSCode
code --install-extension vcoder-0.1.0.vsix
```

### é…ç½®

1. **è®¾ç½® API Key**
   - æ‰“å¼€å‘½ä»¤é¢æ¿ (`Cmd+Shift+P` / `Ctrl+Shift+P`)
   - è¾“å…¥ `VCoder: Set API Key`
   - è¾“å…¥æ‚¨çš„ Anthropic API Key

2. **é€‰æ‹©æ¨¡å‹** (å¯é€‰)
   - æ‰“å¼€ VSCode è®¾ç½®
   - æœç´¢ `vcoder.defaultModel`
   - é€‰æ‹©æ‚¨å–œæ¬¢çš„æ¨¡å‹ï¼š
     - `claude-sonnet-4-20250514` (é»˜è®¤)
     - `claude-3-5-sonnet-20241022`
     - `claude-3-5-haiku-20241022`
     - `claude-3-opus-20240229`

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

VCoder é‡‡ç”¨ **Client-Server åˆ†ç¦»æ¶æ„**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          VSCode Extension (Client)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Extension Host                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚ ChatProvider â”‚  â”‚ DiffProvider â”‚  â”‚ FileDecorator      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ (Webview)    â”‚  â”‚              â”‚  â”‚                    â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â”‚                           â–¼                                     â”‚   â”‚
â”‚  â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚   â”‚
â”‚  â”‚                  â”‚   ACPClient    â”‚                            â”‚   â”‚
â”‚  â”‚                  â”‚  (JSON-RPC)    â”‚                            â”‚   â”‚
â”‚  â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ stdio (stdin/stdout)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              â–¼                         Agent Server     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      CLI Adapter (æŠ½è±¡å±‚)                        â”‚  â”‚
â”‚  â”‚  â€¢ ç»Ÿä¸€æ¥å£ï¼šprompt / acceptChange / rejectChange                â”‚  â”‚
â”‚  â”‚  â€¢ è¾“å‡ºè§£æï¼šå°† CLI è¾“å‡ºè½¬æ¢ä¸ºç»Ÿä¸€çš„ ACP æ¶ˆæ¯                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚                  â”‚                           â”‚
â”‚                         â–¼                  â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ClaudeCodeWrapper       â”‚  â”‚ CodexCliWrapper (æœªæ¥)            â”‚  â”‚
â”‚  â”‚ (MVP)                   â”‚  â”‚                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                              â”‚                           â”‚
â”‚              â–¼                              â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Claude Code CLI         â”‚  â”‚ OpenAI Codex CLI                  â”‚  â”‚
â”‚  â”‚ (@anthropic-ai)         â”‚  â”‚ (@openai/codex)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰æ‹© | ç†ç”± |
|------|---------|------|
| Extension Host | TypeScript | VSCode Extension åŸç”Ÿè¯­è¨€ |
| UI (Webview) | React + TypeScript | ç»„ä»¶åŒ–å¼€å‘ï¼Œç”Ÿæ€ä¸°å¯Œ |
| çŠ¶æ€ç®¡ç† | Zustand | è½»é‡çº§ï¼Œæ— æ ·æ¿ä»£ç  |
| é€šä¿¡åè®® | ACP over JSON-RPC 2.0 | æ ‡å‡†åŒ– Agent é€šä¿¡åè®® |
| æ„å»ºå·¥å…· | Turborepo + Vite | é«˜æ€§èƒ½ Monorepo æ„å»º |

## ğŸ“ é¡¹ç›®ç»“æ„

```
vcoder/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ extension/           # VSCode æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ extension.ts        # å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ acp/client.ts       # ACP å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/          # Webviewã€Diffã€è£…é¥°å™¨
â”‚   â”‚   â”‚   â””â”€â”€ services/           # æœåŠ¡ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ webview/                # React Webview UI
â”‚   â”‚       â””â”€â”€ components/         # UI ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ server/              # Agent Server (Claude Code åŒ…è£…å±‚)
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ acp/                # ACP æœåŠ¡ç«¯
â”‚   â”‚       â””â”€â”€ claude/wrapper.ts   # Claude Code CLI åŒ…è£…
â”‚   â”‚
â”‚   â””â”€â”€ shared/              # å…±äº«ç±»å‹å®šä¹‰
â”‚
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â”‚   â”œâ”€â”€ PRD.md              # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ TECHNICAL_DESIGN.md # æŠ€æœ¯è®¾è®¡æ–‡æ¡£
â”‚
â”œâ”€â”€ package.json            # Monorepo æ ¹é…ç½®
â”œâ”€â”€ turbo.json              # Turborepo é…ç½®
â””â”€â”€ README.md               # æœ¬æ–‡ä»¶
```

## ğŸ“š æ–‡æ¡£

- [äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)](./docs/PRD.md)
- [æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡æ–‡æ¡£](./docs/TECHNICAL_DESIGN.md)
- [ACP åè®®è§„èŒƒ](https://agentclientprotocol.com)
- [Claude Code å®˜æ–¹æ–‡æ¡£](https://docs.anthropic.com/claude-code)

## ğŸ› ï¸ å¼€å‘

### å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¹¶è¡Œæ„å»ºæ‰€æœ‰åŒ…
pnpm build

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬å˜æ›´ï¼‰
pnpm dev

# æ¸…ç†æ„å»ºäº§ç‰©
pnpm clean

# è¿è¡Œ linter
pnpm lint
```

### è°ƒè¯•

1. åœ¨ VSCode ä¸­æ‰“å¼€é¡¹ç›®
2. æŒ‰ `F5` å¯åŠ¨æ‰©å±•å¼€å‘ä¸»æœº
3. åœ¨æ–°çª—å£ä¸­æ‰“å¼€æµ‹è¯•é¡¹ç›®
4. æ‰“å¼€ VCoder é¢æ¿å¼€å§‹è°ƒè¯•

### æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
pnpm test

# è¿è¡Œé›†æˆæµ‹è¯•
pnpm test:integration
```

## ğŸ”’ å®‰å…¨

- **API Key å­˜å‚¨**: ä½¿ç”¨ VSCode Secret Storage API åŠ å¯†å­˜å‚¨
- **æ–‡ä»¶å†™å…¥**: æ‰€æœ‰ä»£ç ä¿®æ”¹éœ€ç”¨æˆ·é€šè¿‡ Diff é¢„è§ˆç¡®è®¤
- **å‘½ä»¤æ‰§è¡Œ**: Bash å‘½ä»¤æ‰§è¡Œå‰éœ€ç”¨æˆ·ç¡®è®¤ (å¯é…ç½®ä¿¡ä»»æ¨¡å¼)
- **å·¥ä½œåŒºé™åˆ¶**: å·¥å…·è®¿é—®é™åˆ¶åœ¨ workspace èŒƒå›´å†…

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](./CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [Claude Code](https://docs.anthropic.com/claude-code) - Anthropic çš„å‘½ä»¤è¡Œ AI ç¼–ç¨‹åŠ©æ‰‹
- [VSCode Extension API](https://code.visualstudio.com/api) - Microsoft çš„ VSCode æ‰©å±•æ¥å£
- [Agent Client Protocol](https://agentclientprotocol.com) - AI Agent é€šä¿¡åè®®

## ğŸ“® è”ç³»æ–¹å¼

- ä½œè€…: weank1984
- é‚®ç®±: weank1984@gmail.com
- GitHub: [@weank1984](https://github.com/weank1984)

## ğŸ—ºï¸ è·¯çº¿å›¾

### v0.1.0 (å½“å‰)
- âœ… MVP åŠŸèƒ½å®ç°
- âœ… Claude Code CLI é›†æˆ
- âœ… åŸºç¡€ UI ç»„ä»¶

### v0.2.0 (è®¡åˆ’)
- ğŸ“ å†å²è®°å½•ä¿å­˜
- ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜
- ğŸ” å¢å¼ºçš„æ–‡ä»¶æœç´¢

### v0.3.0 (æœªæ¥)
- ğŸ”Œ Codex CLI æ”¯æŒ
- ğŸŒ æ›´å¤š MCP é›†æˆ
- ğŸ“Š ä½¿ç”¨ç»Ÿè®¡å’Œåˆ†æ

---

Made with â¤ï¸ by [weank1984](https://github.com/weank1984)
